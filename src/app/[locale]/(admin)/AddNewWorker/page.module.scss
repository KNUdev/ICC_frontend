@use '../../../../common/styles/variables.scss' as *;

$primary-color: #ff525e;
$primary-hover: #ff5252;
$background-color: #f5f5f5;
$white: #ffffff;
$text-nat-500: #6d6d6d;
$text-nat-300: #4f4f4f;
$text-nat-0: #272727;
$border-nat-800: #d1d1d1;
$bg-nat-1000: #fff;
$bg-nat-900: #f6f6f6;
$border-radius: 0px;
$border-radius-small: 0px;
$border-radius-tiny: 0px;

.AddNewWorkerPage {
  display: flex;
  flex-direction: column;

  padding: 3.125rem;
}

@mixin label-style {
  display: flex;
  flex-direction: column;
  align-items: flex-start;

  color: #555;

  font-size: 0.85rem;
  font-weight: 500;
  font-family: Inter;

  width: 100%;
  max-width: 18.0625rem;
}

@mixin section-heading {
  color: $text-nat-0;

  text-align: left;
  font-family: Inter;
  font-size: 1.25rem;
  font-style: normal;
  font-weight: 800;
  line-height: normal;
  letter-spacing: 0.00625rem;
  text-transform: uppercase;

  white-space: nowrap;
}

@mixin input-row-base {
  display: flex;

  gap: 1.5625rem;
}

@mixin input-field-base {
  display: flex;
  flex-direction: column;

  width: 100%;
  flex: 1;

  .fieldLabel {
    color: #555;

    font-size: 0.85rem;
    font-weight: 500;
    font-family: Inter;

    margin-bottom: 0.9375rem;
    width: 100%;
  }

  input {
    @extend %input-select-base;
    width: 100%;
  }
}

@mixin input-group-base {
  display: flex;
  flex-direction: column;

  flex: 1;
  gap: 0.9375rem;
}

@mixin all-sections-responsive {
  .photoSection,
  .generalInfo,
  .salarySection,
  .specialtySection,
  .roleSection,
  .workingHours,
  .contractInfo {
    width: 100%;
    min-width: 100%;
    max-width: 100%;
  }
}

@mixin input-style {
  box-sizing: border-box;

  color: $text-nat-500;
  border: 1px solid $border-nat-800;
  border-radius: $border-radius-tiny;

  background: $bg-nat-900;

  font-family: Inter;
  font-size: 1rem;
  font-style: normal;
  font-weight: 400;
  line-height: 1.375rem;
  letter-spacing: 0.005rem;

  width: 100%;
  padding: 0.9375rem;
  min-height: 2.5rem;

  &:focus {
    outline: none;
    border-color: $primary-color;
  }

  &::placeholder {
    color: $text-nat-500;

    font-family: Inter;
    font-size: 1rem;
    font-style: normal;
    font-weight: 400;
    line-height: 1.375rem;
    letter-spacing: 0.005rem;
  }
}

%input-select-base {
  @include input-style;
}

@mixin button-style($bg-color, $hover-color) {
  display: flex;
  align-items: center;
  justify-content: center;

  background: $bg-color;
  color: $white;
  border: none;
  border-radius: $border-radius-small;

  font-size: 1rem;
  font-family: Inter;

  gap: 0.5rem;
  min-height: 3rem;
  padding: 0.9375rem 1.875rem;

  cursor: pointer;
  transition: background 0.3s ease;

  &:hover {
    background: $hover-color;
  }
}

@mixin card-style {
  display: flex;
  flex-direction: column;

  border: 1px solid $border-nat-800;
  background: $bg-nat-1000;
  border-radius: $border-radius;

  gap: 2.8125rem;
}

@mixin card-content {
  display: flex;
  flex-direction: column;

  padding: 2.8125rem;
  gap: 2.8125rem;
}

.fieldWrapper {
  display: flex;
  flex-direction: column;

  gap: 0.5rem;
  width: 100%;
}

.inputWrapper {
  position: relative;
  box-sizing: border-box;

  background-color: $bg-nat-900;

  width: 100%;
}

.requiredStar {
  color: $primary-color; // #ff525e
}

.container {
  display: flex;
  justify-content: center;
  align-items: flex-start;

  background: $background-color;

  font-family: Inter;

  min-height: 100vh;
  gap: 2.8125rem;
}

.mainWrapper {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;

  width: 100%;
  max-width: 93.5rem;
  margin: 2.8125rem auto;
}

.startpage {
  display: flex;
  flex-direction: column;

  width: 100%;
  max-width: 93.5rem;
  gap: 2.1875rem;
  margin-bottom: 2.1875rem;

  .content {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;

    text-align: left;

    gap: 0.9375rem;
    width: 100%;

    .title {
      color: $text-nat-0;

      font-family: Inter;
      font-size: 1.875rem;
      font-style: normal;
      font-weight: 800;
      line-height: normal;
      letter-spacing: 0.00938rem;
      text-transform: uppercase;

      margin: 0;
    }

    .description {
      color: $text-nat-300;

      font-family: Inter;
      font-size: 1rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.4375rem;
      letter-spacing: 0.005rem;
    }
  }
}

.pagecontin {
  width: 100%;
  max-width: 93.5rem;
  margin-bottom: 5rem;

  .form {
    @include card-style;
    width: 100%;

    .formContent {
      @include card-content;
    }

    .formSection {
      display: flex;
      flex-direction: column;

      gap: 2.8125rem;

      h3 {
        @include section-heading;
      }

      .sectionContent {
        display: grid;
        grid-template-columns: 25rem 1px 1fr;
        align-items: start;

        gap: 2.8125rem;

        @media (max-width: 1024px) {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto;
          gap: 2rem;
        }
      }
    }

    .photoSection {
      grid-column: 1;

      display: flex;
      flex-direction: column;
      align-self: start;

      gap: 1.5625rem;
      width: 25rem;
      min-width: 25rem;
      max-width: 25rem;
      flex-shrink: 0;

      @media (max-width: 1024px) {
        grid-column: 1;
        grid-row: 1;

        width: 100%;
        min-width: 100%;
        max-width: 100%;

        h3 {
          white-space: normal;
          word-wrap: break-word;

          text-align: left;
          line-height: 1.3;
        }

        .photoUpload {
          align-self: flex-start;

          width: 100%;
          max-width: 25rem;
          margin: 0;

          .photoPlaceholder {
            width: 100%;
            max-width: 25rem;
            height: 19.8125rem;
          }
        }
      }

      .photoUpload {
        display: flex;
        flex-direction: column;
        align-items: stretch;

        gap: 1.5625rem;
        height: 100%;

        .photoPlaceholder {
          display: flex;
          justify-content: center;
          align-items: center;

          overflow: hidden;

          background: $bg-nat-900;

          height: 19.8125rem;
          gap: 0.625rem;
          flex-shrink: 0;
          width: 100%;
          border-radius: $border-radius-tiny;

          svg {
            width: 80px;
            height: 80px;
          }
        }

        .photoPreviewImg {
          width: 100%;
          height: 100%;
          border-radius: $border-radius-tiny;
        }

        .uploadBtn {
          display: flex;
          justify-content: center;
          align-items: center;
          align-self: stretch;

          background: $primary-color;
          color: $white;
          border: none;
          border-radius: $border-radius-small;

          font-size: 0.9rem;
          font-family: Inter;

          height: 3.75rem;
          padding: 0.9375rem 1.25rem;
          gap: 0.625rem;
          flex-shrink: 0;
          margin-top: auto;

          cursor: pointer;
          transition: background 0.3s ease;

          &:hover {
            background: $primary-hover;
          }

          .uploadIcon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
          }
        }

        .deleteBtn {
          display: flex;
          justify-content: center;
          align-items: center;
          align-self: stretch;

          color: $primary-color;
          border: 1px solid $primary-color;
          background: transparent;

          height: 3.75rem;
          padding: 0.9375rem 1.25rem;
          gap: 0.625rem;
          flex-shrink: 0;
          border-radius: $border-radius-small;

          font-size: 0.9rem;
          font-family: Inter;

          cursor: pointer;
          transition: all 0.3s ease;

          &:hover {
            background: $primary-color;
            color: $white;

            .deleteIcon path {
              fill: $white;
            }
          }

          .deleteIcon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;

            path {
              transition: fill 0.3s ease;
            }
          }
        }
      }
    }

    .sectionDivider {
      grid-column: 2;

      justify-self: center;
      align-self: stretch;

      background: var(--border-nat-800, #d1d1d1);

      width: 1px;
      height: 100%;

      @media (max-width: 1024px) {
        display: none;
      }
    }

    .sectionDividerHorizontal {
      align-self: stretch;

      background: var(--border-nat-800, #d1d1d1);
      border: none;

      margin: 0;
      flex-shrink: 0;
      width: 100%;
      height: 1px;
    }

    .generalInfo {
      grid-column: 3;

      display: flex;
      flex-direction: column;
      align-self: start;

      gap: 1.5625rem;

      @media (max-width: 1024px) {
        grid-column: 1;
        grid-row: 2;
      }

      > * {
        margin: 0;
      }

      .inputRow {
        & > div {
          width: 100%;
        }
        .inputGroup {
          input {
            height: 3.4375rem;
          }

          span {
            margin: 0;
          }
        }
      }
    }

    .inputRow {
      @include input-row-base;

      .inputGroup {
        @include input-group-base;

        label {
          @include label-style;
        }

        input,
        select {
          @extend %input-select-base;
        }
      }
    }

    .checkboxRow {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      align-self: stretch;

      flex: 1 0 0;

      .checkboxGroup {
        display: flex;
        align-items: center;

        gap: 0.9375rem;

        .checkbox {
          position: relative;

          border: 1px solid $border-nat-800;
          border-radius: $border-radius-tiny;
          background: $bg-nat-1000;

          width: 18px;
          height: 18px;

          cursor: pointer;
          appearance: none;

          &:checked {
            background: $primary-color;
            border-color: $primary-color;

            &::after {
              content: '✓';
              position: absolute;

              top: 50%;
              left: 50%;

              transform: translate(-50%, -50%);

              color: white;

              font-size: 12px;
              font-weight: bold;
            }
          }

          &:focus {
            outline: none;
            border-color: $primary-color;
          }
        }

        .checkboxLabel {
          color: $text-nat-500;

          font-family: Inter;
          font-size: 1rem;
          font-style: normal;
          font-weight: 400;
          line-height: 1.375rem;
          letter-spacing: 0.005rem;

          cursor: pointer;
        }
      }
    }
    .salarySection {
      grid-column: 1;

      display: flex;
      flex-direction: column;
      align-self: start;

      gap: 1.5625rem;
      width: 25rem;
      min-width: 25rem;
      max-width: 25rem;
      flex-shrink: 0;

      @media (max-width: 1024px) {
        grid-column: 1;
        grid-row: 1;
        width: 100%;
        min-width: 100%;
        max-width: 100%;

        h3 {
          white-space: normal;
          word-wrap: break-word;

          text-align: left;
          line-height: 1.3;
        }

        .inputRow {
          width: 100%;
          max-width: 25rem;
          margin: 0;

          .inputGroup {
            width: 100%;
            max-width: 25rem;

            input {
              width: 100%;
            }
          }
        }
      }

      .inputRow {
        @include input-row-base;

        .inputGroup {
          @include input-group-base;

          label {
            @include label-style;
          }

          input,
          select {
            @extend %input-select-base;
          }
        }
      }
    }

    .specialtySection,
    .roleSection {
      grid-column: 3;

      display: flex;
      flex-direction: column;
      align-self: start;

      gap: 1.5625rem;

      @media (max-width: 1024px) {
        grid-column: 1;
        grid-row: 2;
      }

      .inputRow {
        @include input-row-base;

        .inputGroup {
          @include input-group-base;

          label {
            @include label-style;
          }

          input,
          select {
            @extend %input-select-base;
          }

          select {
            padding-right: 2.8125rem;
            background-position: right 0.9375rem center;
            background-repeat: no-repeat;
            background-size: 12px 12px;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236D6D6D' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            transition: background-image 0.2s ease-in-out;

            &:focus {
              background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236D6D6D' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='18,15 12,9 6,15'%3e%3c/polyline%3e%3c/svg%3e");
            }
          }
        }
      }
    }

    .workingHours,
    .contractInfo {
      .inputRow {
        display: flex;
        flex-direction: row;

        gap: 2.1875rem;
        width: 100%;

        .inputField {
          @include input-field-base;
        }
      }
    }

    .salarySection {
      .inputRow {
        .inputGroup {
          input[type='number'] {
            height: 3.4375rem;
          }
        }
      }
    }

    .specialtySection,
    .roleSection {
      .inputRow {
        .inputGroup {
          select {
            height: 3.4375rem;
          }
        }
      }
    }

    .workingHours,
    .contractInfo {
      display: flex;
      flex-direction: column;

      flex: 1;
      width: 100%;
      gap: 1.5625rem;

      .inputRow {
        @include input-row-base;

        .inputGroup {
          @include input-group-base;

          label {
            @include label-style;
          }

          input,
          select {
            @extend %input-select-base;
          }
        }
      }
    }

    .workingHours {
      .inputRow {
        .inputField {
          input[type='time'] {
            height: 3.4375rem;
          }
        }
      }
    }

    .contractInfo {
      .inputRow {
        .inputField {
          .dateInputWrapper {
            position: relative;

            display: flex;
            align-items: center;

            border: 1px solid $border-nat-800;
            border-radius: $border-radius-tiny;
            background: $bg-nat-900;

            width: 100%;
            height: 3.4375rem;
            padding: 0 0.9375rem;
            gap: 0.75rem;

            .calendarIcon {
              flex-shrink: 0;
              width: 20px;
              height: 21px;

              pointer-events: none;
            }

            input[type='date'] {
              border: none;
              background: transparent;
              outline: none;

              color: $text-nat-500;

              font-family: Inter;
              font-size: 1rem;
              font-style: normal;
              font-weight: 400;
              line-height: 1.375rem;
              letter-spacing: 0.005rem;

              padding: 0;
              height: auto;
              flex: 1;

              &::-webkit-calendar-picker-indicator {
                position: absolute;

                left: 0;
                right: 0;

                width: 100%;
                height: 100%;

                opacity: 0;
                cursor: pointer;
              }

              &::-webkit-inner-spin-button,
              &::-webkit-outer-spin-button {
                -webkit-appearance: none;
                margin: 0;
              }
            }

            &:focus-within {
              border-color: $primary-color;
            }
          }
        }
      }
    }

    .formActions {
      display: flex;
      justify-content: stretch;

      width: 100%;

      .submitBtn {
        @include button-style($primary-color, $primary-hover);
        height: 3.75rem;
        width: 100%;
        flex: 1;
      }
    }
  }
}

.inputsContainer {
  display: flex;
  flex-direction: column;

  gap: 2.1825rem;

  .inputGroup:last-child {
    display: flex;
    flex-direction: column;

    .inputRow:first-child {
      margin-bottom: 2.1875rem;
    }
  }

  & > * {
    width: 100%;
  }
}

.modalOverlay {
  position: fixed;
  z-index: 1000;

  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  display: flex;
  justify-content: center;
  align-items: center;

  background: rgba(0, 0, 0, 0.5);
}

.modal {
  background: white;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);

  border-radius: 8px;
  padding: 0;
  max-width: 400px;
  width: 90%;
}

.modalContent {
  display: flex;
  flex-direction: column;
  align-items: center;

  text-align: center;

  gap: 1.5rem;
  padding: 2rem;
}

.modalIcon {
  display: flex;
  justify-content: center;
  align-items: center;

  background: #4caf50;

  width: 64px;
  height: 64px;
  border-radius: 50%;
}

.successIcon {
  color: white;

  width: 32px;
  height: 32px;
}

.modalTitle {
  color: $text-nat-0;

  font-family: Inter;
  font-size: 1.5rem;
  font-weight: 600;

  margin: 0;
}

.modalMessage {
  color: $text-nat-300;

  font-family: Inter;
  font-size: 1rem;

  margin: 0;
}

.modalButton {
  background: $primary-color;
  color: white;
  border: none;

  font-family: Inter;
  font-size: 1rem;
  font-weight: 500;

  cursor: pointer;
  transition: background 0.3s ease;

  border-radius: 6px;
  padding: 0.75rem 2rem;

  &:hover {
    background: $primary-hover;
  }
}

@media (min-width: 1921px) {
  .mainWrapper {
    width: 93.5rem;
    max-width: 93.5rem;
  }

  .startpage,
  .pagecontin,
  .scrollToTop {
    width: 93.5rem;
  }

  .pagecontin .form .formSection .sectionContent {
    grid-template-columns: 25rem 1px 1fr;
    gap: 2.8125rem;
  }
}

@media (max-width: 1920px) and (min-width: 1441px) {
  .mainWrapper {
    width: 90rem;
    max-width: 90rem;
    padding: 0 2rem;
  }

  .startpage,
  .pagecontin,
  .scrollToTop {
    width: 100%;
  }

  .pagecontin .form .formSection .sectionContent {
    grid-template-columns: 25rem 1px 1fr;

    gap: 2.5rem;
  }
}

@media (max-width: 1440px) and (min-width: 1025px) {
  .mainWrapper {
    width: 95%;
    max-width: 95%;
    padding: 0 2rem;
  }

  .startpage,
  .pagecontin,
  .scrollToTop {
    width: 100%;
  }

  .pagecontin .form .formSection .sectionContent {
    grid-template-columns: 25rem 1px 1fr;

    gap: 2rem;
  }
}

@media (max-width: 1024px) {
  .mainWrapper {
    width: 100%;
    max-width: 100%;
    padding: 0 2rem;
  }

  .startpage,
  .pagecontin,
  .scrollToTop {
    width: 100%;
  }

  .pagecontin .form .formSection .sectionContent {
    grid-template-columns: 1fr !important;
    grid-template-rows: auto auto;

    gap: 2rem;
  }

  .sectionDivider {
    display: none !important;
  }

  .pagecontin .form .formSection h3 {
    white-space: normal;
    word-wrap: break-word;

    line-height: 1.3;
    text-align: left;
  }

  .photoSection,
  .generalInfo,
  .salarySection,
  .specialtySection,
  .roleSection {
    @include all-sections-responsive;

    .inputRow {
      width: 100% !important;
      max-width: 100% !important;

      .inputGroup {
        width: 100% !important;
        max-width: 100% !important;

        input,
        select {
          width: 100% !important;
        }
      }
    }
  }
}

.fullWidth {
  grid-template-columns: 1fr !important;

  width: 100%;
}

.formSection.withButton {
  gap: 2.8125rem;
}

.scrollToTop {
  display: flex;
  align-items: center;
  justify-content: center;
  align-self: center;

  gap: 0.625rem;
  width: 100%;
  max-width: 93.5rem;

  cursor: pointer;
  transition: all 0.3s ease;

  .scrollIcon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
  }

  .scrollText {
    color: $primary-color;

    font-family: Inter;
    font-size: 1rem;
    font-style: normal;
    font-weight: 400;
    line-height: 1.375rem;
    letter-spacing: 0.005rem;
    text-decoration: underline;
  }

  &:hover {
    .scrollText {
      color: $primary-hover;
    }

    .scrollIcon path {
      fill: $primary-hover;
    }
  }
}

@include tablet-horizontal {
  .AddNewWorkerPage {
    padding: 3.125rem 3.75rem;
  }
}

@include mobile-horizontal {
  .AddNewWorkerPage {
    padding: 3.125rem 2.5rem;
  }
}
